
div.grafico#pcrPorRegion(style='display:none;height:500px;')
div.grafico#pcrPorRegion-grafico( style='width: 100%; height: 500px;' )
	button.magia Mostrar data

script.
	var pcrPorRegion = function(){
		google.charts.load('current', {'packages':['corechart']});
		google.charts.setOnLoadCallback(pcrPorRegion);
	
		function pcrPorRegion() { 
				var dataPcrPorRegion = google.visualization.arrayToDataTable([
					['Fecha' , 'Arica y Parinacota' , 'Tarapaca' , 'Antofagasta' , 'Atacama' , 'Coquimbo' , 'Valparaiso' , 'Ohiggins' , 'Maule' , 'Ñuble' , 'Biobio' , 'Araucania' , 'Los Rios' , 'Los Lagos' , 'Aysen' , 'Magallanes'],
					['0' , 0 , 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
			]);
	
			var options = {
				title : 'PCR: Regiónes (Por Día)',
				vAxis: {title: 'Exámenes'},
				hAxis: {title: 'Días'},
				seriesType: 'bars',
	
				legend: { position: 'top', maxLines: 3 },
				bar: { groupWidth: '75%' },
				isStacked: true
			};
	
			var chart = new google.visualization.ComboChart(document.getElementById('pcrPorRegion-grafico'));
			chart.draw(dataPcrPorRegion, options);
		
			for ( sumaTR = 3 ; sumaTR <= $( $( "#pcrPorRegion table tr" )[2] ).find( "td" ).length-1 ; sumaTR++  ) {
			
				var fecha					= $( $( $( "#pcrPorRegion table tr" )[0] ).find( "th" )[sumaTR] ).html();
				var aricayParinacota	= $( $( $( "#pcrPorRegion table tr" )[1] ).find( "td" )[sumaTR] ).html();
				if ( aricayParinacota == "" ) {
					var aricayParinacota = "0";
				};
				var tarapaca				= $( $( $( "#pcrPorRegion table tr" )[2] ).find( "td" )[sumaTR] ).html();
				if ( tarapaca == "" ) {
					var tarapaca = "0";
				};
				var antofagasta			= $( $( $( "#pcrPorRegion table tr" )[3] ).find( "td" )[sumaTR] ).html();
				if ( antofagasta == "" ) {
					var antofagasta = "0";
				};
				var atacama				= $( $( $( "#pcrPorRegion table tr" )[4] ).find( "td" )[sumaTR] ).html();
				if ( atacama == "" ) {
					var atacama = "0";
				};
				var coquimbo				= $( $( $( "#pcrPorRegion table tr" )[5] ).find( "td" )[sumaTR] ).html();
				if ( coquimbo == "" ) {
					var coquimbo = "0";
				};
				var valparaiso				= $( $( $( "#pcrPorRegion table tr" )[6] ).find( "td" )[sumaTR] ).html();
				if ( valparaiso == "" ) {
					var valparaiso = "0";
				};
				/*
				var metropolitana				= $( $( $( "#pcrPorRegion table tr" )[7] ).find( "td" )[sumaTR] ).html();
				if ( metropolitana == "" ) {
					var metropolitana = "0";
				};
				*/
				var ohiggins				= $( $( $( "#pcrPorRegion table tr" )[8] ).find( "td" )[sumaTR] ).html();
				if ( ohiggins == "" ) {
					var ohiggins = "0";
				};
				var maule				= $( $( $( "#pcrPorRegion table tr" )[9] ).find( "td" )[sumaTR] ).html();
				if ( maule == "" ) {
					var maule = "0";
				};
				var nuble				= $( $( $( "#pcrPorRegion table tr" )[10] ).find( "td" )[sumaTR] ).html();
				if ( nuble == "" ) {
					var nuble = "0";
				};
				var biobio				= $( $( $( "#pcrPorRegion table tr" )[11] ).find( "td" )[sumaTR] ).html();
				if ( biobio == "" ) {
					var biobio = "0";
				};
				var araucania				= $( $( $( "#pcrPorRegion table tr" )[12] ).find( "td" )[sumaTR] ).html();
				if ( araucania == "" ) {
					var araucania = "0";
				};
				var losRios				= $( $( $( "#pcrPorRegion table tr" )[13] ).find( "td" )[sumaTR] ).html();
				if ( losRios == "" ) {
					var losRios = "0";
				};
				var losLados				= $( $( $( "#pcrPorRegion table tr" )[14] ).find( "td" )[sumaTR] ).html();
				if ( losLados == "" ) {
					var losLados = "0";
				};
				var aysen				= $( $( $( "#pcrPorRegion table tr" )[15] ).find( "td" )[sumaTR] ).html();
				if ( aysen == "" ) {
					var aysen = "0";
				};
				var magallanes				= $( $( $( "#pcrPorRegion table tr" )[16] ).find( "td" )[sumaTR] ).html();
				if ( magallanes == "" ) {
					var magallanes = "0";
				};
	
				var push_todosTotales 	= '[["' + fecha + '",' + aricayParinacota + ',' + tarapaca + ',' + antofagasta + ',' + atacama + ',' + coquimbo + ',' + valparaiso + ',' +/* metropolitana + ',' */+ ohiggins + ',' + maule + ',' + nuble + ',' + biobio + ',' + araucania + ',' + losRios + ',' + losLados + ',' + aysen + ',' + magallanes + ']]';
				dataPcrPorRegion.addRows(JSON.parse(push_todosTotales));
	
			}
	
			var chart = new google.visualization.ComboChart(document.getElementById('pcrPorRegion-grafico'));
			chart.draw(dataPcrPorRegion, options);
	
		}
	};
	$( "#pcrPorRegion-grafico button.magia" ).click(function(){
		pcrPorRegion();
		$( this ).hide();
	});

